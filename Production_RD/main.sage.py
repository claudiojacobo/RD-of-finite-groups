"""
File used for testing and running our production code 
"""


# This file was *autogenerated* from the file main.sage
from sage.all_cmdline import *   # import sage library

_sage_const_126 = Integer(126); _sage_const_7 = Integer(7)# load("group_characters.sage")
# load("suzuki_characters.sage")
# load("psu_characters.sage")
load("helper_functions.sage")
load("PSU_3_P.sage")

import json
import os
import time
from datetime import datetime



def save_output(data, file):
    with open(file, "a") as f:
        f.write(json.dumps(data) + "\n")
'''
G = GroupCharactersPSU3(3, 997)
result = G.the_game(G.characters[0], 5)
print(result)
save_output(result)
'''

'''
for q in [2,3,4,5,7,8,9,11,13,16,17,19,23]:
    G = GroupCharacters(f"PSU(2,{q})")
    result = G.the_game(G.characters[1], 5)
    print(q)
    print(result,end="\n\n")
'''
'''
file = "ElderlyOwl-data-dump.json"
for a,b in get_unicorn(150):
    G = GroupCharacters(f"PSU(2,{a})")
    for j, char in enumerate(G.characters):
        result = G.the_game(G.characters[1], 10)
        print(result)
        result["character_index"] = f"{j}"
        save_output(result, file)
'''
'''
file = "Acorn-data-dump.json"
for a,b in get_unicorn(150):
    G = GroupCharacters(f"SL(2,{a})")
    for j, char in enumerate(G.characters):
        result = G.the_game(G.characters[1], 10)
        print(result)
        result["character_index"] = f"{j}"
        save_output(result, file)
'''
'''
file = "Condensed-Acorn.json"
with open("Acorn-data-dump.json", "r") as f:
    for line in f:
        entry = json.loads(line)
        if entry.get("character_index") == "0":
            save_output(entry, file)
'''


file = "Carmen-data-dump.json"
for a,b in get_unicorn(_sage_const_126 ):
    c, d = b.split(',')
    c = int(c)
    d = int(d)
    print(c,d)
    G = GroupCharactersPSU3(c,d)
    for j, char in enumerate(G.characters):
        result = G.the_game(char, _sage_const_7 )
        print(result)
        result["character_index"] = f"{j}"
        save_output(result, file)


file = "Condensed-Carmen.json"
with open("Carmen-data-dump.json", "r") as f:
    for line in f:
        entry = json.loads(line)
        if entry.get("character_index") == "0":
            save_output(entry, file)

'''
file = "Condensed-Owl.json"
with open("ElderlyOwl-data-dump.json", "r") as f:
    for line in f:
        entry = json.loads(line)
        if entry.get("character_index") == "0":
            save_output(entry, file)
'''
group = []
with open("Condensed-Owl.json", "r") as f:
    for line in f:
        entry = json.loads(line)
        group.append(entry.get("limitation"))

all_lim = ["\clubsuit", "\star", "\diamondsuit"]
def all_lim_convert(lst):
    return[x if x in lst else " " for x in all_lim]

for g in group:
    #new_g = [item.replace("generic-freeness", "\clubsuit").replace("versality-degree", "\star").replace("permutation-rep", "\diamondsuit") for item in g]
    EO = ["$\\clubsuit$" if any("generic-freeness" in item for item in g) else "-"]
    #print(" ".join(EO))

# g[0],g[1],g[2],g[3],g[4],g[5]

'''
deg2 = []
deg3 = []
deg4 = []
with open("Condensed-Owl.json", "r") as f:
    for line in f: 
        entry = json.loads(line)
        deg2.append(entry["total polynomials"][2])
        deg3.append(entry["total polynomials"][3])
        deg4.append(entry["total polynomials"][4])

output = "\t".join(deg2)
print("deg2", output)
'''



# 31, 37, 41, 43, 47

# G = GroupCharactersPSU3(5, 2)
# result = G.the_game(G.characters[0], 10)
# save_output(result)


